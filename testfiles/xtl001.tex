\RequirePackage{xtl}
\ExplSyntaxOn
\iow_new:N \g_output_iow
\iow_open:Nn \g_output_iow { \c_job_name_tl .output }
\xtl_new:N \l_tmpa_xtl
\xtl_new:N \l_tmpb_xtl
\xtl_set:Nn \l_tmpa_xtl { \abc { \def } \gh }
\xtl_concat:NNN \l_tmpa_xtl \c_group_begin_xtl \l_tmpa_xtl
\iow_now:Nx \g_output_iow { \xtl_to_str:N \l_tmpa_xtl }
\iow_now:Nx \g_output_iow { \xtl_count_tokens:N \l_tmpa_xtl }
\iow_now:Nx \g_output_iow { | \xtl_left_text:NF \l_tmpa_xtl { } | }
{
  \xtl_pop_left:NN \l_tmpa_xtl \l_tmpb_xtl
  \iow_now:Nx \g_output_iow { \xtl_to_str:N \l_tmpb_xtl }
}
\xtl_put_left:Nn \l_tmpa_xtl { { { \a \b } \c } }
\xtl_pop_left:N \l_tmpa_xtl
\xtl_pop_left:N \l_tmpa_xtl
\iow_now:Nx \g_output_iow { \xtl_to_str:N \l_tmpa_xtl }
\iow_now:Nx \g_output_iow { \xtl_count_tokens:N \l_tmpa_xtl }
\xtl_concat:NNN \l_tmpa_xtl \l_tmpa_xtl \l_tmpa_xtl
\iow_now:Nx \g_output_iow { \xtl_to_str:N \l_tmpa_xtl }
\iow_now:Nx \g_output_iow { \xtl_count_tokens:N \l_tmpa_xtl }
\iow_close:N \g_output_iow
\tex_end:D
